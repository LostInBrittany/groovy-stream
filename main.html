<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Main Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content"JBake">

    <!-- Le styles -->
    <link href="/groovy-stream/css/bootstrap.min.css" rel="stylesheet">
    <link href="/groovy-stream/css/asciidoctor.css" rel="stylesheet">
    <link href="/groovy-stream/css/base.css" rel="stylesheet">
    <link href="/groovy-stream/css/bootstrap-responsive.min.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="/groovy-stream/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="favicon.ico">
  </head>
  <body>
    <div id="wrap">

	<!-- Fixed navbar -->
      <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="brand" href="/groovy-stream/">groovy-stream</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="/groovy-stream/index.html">Home</a></li>
                <li><a href="/groovy-stream/releases.html">Releases</a></li>
                <li><a href="/groovy-stream/javadoc/">Latest Javadoc</a></li>

                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Method docs (in progress) <b class="caret"></b></a>
                  <ul class="dropdown-menu">
                    <li><a href="/groovy-stream/map.html">Mapping Functions</a></li>
<!--
                    <li><a href="#">Another action</a></li>
                    <li><a href="#">Something else here</a></li>
                    <li class="divider"></li>
                    <li class="nav-header">Nav header</li>
                    <li><a href="#">Separated link</a></li>
                    <li><a href="#">One more separated link</a></li>
-->
                  </ul>
                </li>
              </ul>
            </div><!--/.nav-collapse -->
          </div>
        </div>
      </div>
      <div class="container">	
	<div class="page-header">
		<h1>Main Documentation</h1>
	</div>
<!--
	<p><em>04 February 2014</em></p>
-->
	<p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/timyates/groovy-stream">groovy-stream</a> is a library to simplify
the generation of lazy Iterators across a mutitude of input data types, and the
construction of finite Lazy Generators from a collection of inputs.</p>
</div>
<div class="paragraph">
<p>An instance of <code>groovy.stream.Stream</code> is an immutable wrapper around a chain of iterators.</p>
</div>
<div class="paragraph">
<p>Each iterator in the chain takes the previous iterator&#8217;s output as it&#8217;s input, performs
some task to it and passes this to the next Iterator <strong>on request</strong>.</p>
</div>
<div class="paragraph">
<p>The head iterator of the chain is wrapped in a <code>Stream</code> class which allows simple
creation of new iterators in the chain.</p>
</div>
<div class="paragraph">
<p>When a <code>Stream</code> method is called to add a new step to the Stream, a new Stream is
created containing the specified iterator which in turn is set to get its input
from the head iterator of the previous <code>Stream</code>.</p>
</div>
<div class="paragraph">
<p>It should be noted that <code>Stream</code> (as with most if not all Iterators) is not
thread-safe in itself, and any synchronization on reads should be done by the
user should multiple read threads be required (including threads reading from
intermediate Streams).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_table_of_contents">Table of Contents</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#getting-started">Getting Started</a></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="#using-maven">Using Maven</a></p>
</li>
<li>
<p><a href="#using-grab">Using <code>Grab</code></a></p>
</li>
<li>
<p><a href="#downloading">Downloading</a></p>
</li>
<li>
<p><a href="#dependencies">Dependencies</a></p>
</li>
</ol>
</div>
</li>
<li>
<p><a href="#quick-example">Quick Example</a></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="#lazy-generators">Lazy Generators</a></p>
</li>
</ol>
</div>
</li>
<li>
<p><a href="#anatomy-of-a-stream">Anatomy of a Stream</a></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="#inputs">Inputs</a></p>
</li>
<li>
<p><a href="#filters">Filters</a></p>
</li>
<li>
<p><a href="#mappings">Mappings</a></p>
</li>
<li>
<p><a href="#inspectors">Inspectors</a></p>
</li>
<li>
<p><a href="#crossing-the-streams">Crossing the Streams</a></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started">Getting started</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="using-maven">Using Maven</h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint xml language-xml"><code>&lt;dependency&gt;
    &lt;groupId&gt;com.bloidonia&lt;/groupId&gt;
    &lt;artifactId&gt;groovy-stream&lt;/artifactId&gt;
    &lt;version&gt;0.7.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-gradle">Using Gradle</h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>compile "com.bloidonia:groovy-stream:0.7.0"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-grab">Using Grab</h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>@Grab( "com.bloidonia:groovy-stream:0.7.0" )
import groovy.stream.*</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="downloading">Downloading</h3>
<div class="paragraph">
<p>Jar files can be directly downloaded from the <code>Files</code> tab on Bintray by
<a href="https://bintray.com/timyates/groovy-stream/groovy-stream">following this link</a>,
and clicking on the version you require.</p>
</div>
</div>
<div class="sect2">
<h3 id="dependencies">Dependencies</h3>
<div class="paragraph">
<p>The only runtime dependency of <code>groovy-stream</code> is Groovy.  I track the current
Groovy version, but it should work with all versions from 2.0+.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quick-example">Quick Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As a simple example, lets create a <code>Stream</code> representing all positive integers.</p>
</div>
<div class="paragraph">
<p>Firstly, we need to import the <code>Stream</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>import groovy.stream.Stream</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, we can call the Closure form of the static <code>Stream.from</code> method to generate our
infinite Stream:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>def x = 1
def integers = Stream.from { x++ }</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can then create a <code>Stream</code> that is fed from integers and returns a <code>Stream</code> of squares:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>def squares = Stream.from integers map { it * it }</code></pre>
</div>
</div>
<div class="paragraph">
<p>And we can then take the first 5 elements from this stream with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>def first5 = squares.take( 5 ).collect()
assert first5 == [ 1, 4, 9, 16, 25 ]</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is only at the point where we call <code>collect()</code> that the original <code>integers</code>
stream is executed five times, to produce five values which are squared in turn
and passed to the result <code>first5</code>.</p>
</div>
<div class="sect2">
<h3 id="lazy-generators">Lazy Generators</h3>
<div class="paragraph">
<p>We can use the Stream to mimic the behaviour of a list comprehension. Lets say we want to do the following:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>For all values of <code>x</code> from 1 to 5 and all values of <code>y</code> from 1 to 3;
return <code>x + 1</code> if <code>( x + y ) % ( x + 2 ) == 0</code></p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>def s = Stream.from( x:1..5, y:1..3 )
              .filter { ( x + y ) % ( x + 2 ) == 0 }
              .map { x + y }

// Returns results for:
//  3 - when - x:1, y:2 as (1+2)%(1+2) == 0
//  4 - when - x:2, y:2 as (2+2)%(2+2) == 0
//  5 - when - x:3, y:2 as (3+2)%(3+2) == 0
//  6 - when - x:4, y:2 as (4+2)%(4+2) == 0
//  7 - when - x:5, y:2 as (5+2)%(5+2) == 0
assert s.collect() == [ 3, 4, 5, 6, 7 ]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="anatomy-of-a-stream">Anatomy of a Stream</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="inputs">Inputs</h3>
<div class="paragraph">
<p>To create a <code>Stream</code> class you can either use one of the many static <code>from</code> methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint java language-java"><code>    public static &lt;K,V&gt; Stream&lt;Map&lt;K,V&gt;&gt;  from( Map&lt;K,? extends Iterable&lt;V&gt;&gt; map )
    public static &lt;T&gt;   Stream&lt;T&gt;         from( Stream&lt;T&gt; stream                 )
    public static &lt;T&gt;   Stream&lt;T&gt;         from( Iterable&lt;T&gt; iterable             )
    public static &lt;T&gt;   Stream&lt;T&gt;         from( Iterator&lt;T&gt; iterator             )
    public static       Stream&lt;String&gt;    from( BufferedReader reader            )
    public static &lt;T&gt;   Stream&lt;T&gt;         from( Closure&lt;T&gt; closure               )
    public static &lt;T&gt;   Stream&lt;T&gt;         from( T[] array                        )
    public static       Stream&lt;Byte&gt;      from( byte[] array                     )
    public static       Stream&lt;Character&gt; from( char[] array                     )
    public static       Stream&lt;Short&gt;     from( short[] array                    )
    public static       Stream&lt;Integer&gt;   from( int[] array                      )
    public static       Stream&lt;Long&gt;      from( long[] array                     )
    public static       Stream&lt;Float&gt;     from( float[] array                    )
    public static       Stream&lt;Double&gt;    from( double[] array                   )
    public static       Stream&lt;Boolean&gt;   from( boolean[] array                  )</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, you can make use of the Groovy Extension class which adds the <code>toStream()</code>
method to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Closure</code></p>
</li>
<li>
<p><code>Iterator</code></p>
</li>
<li>
<p><code>Iterable&lt;T&gt;</code></p>
</li>
<li>
<p><code>BufferedReader</code></p>
</li>
<li>
<p><code>Map&lt;K,? extends Iterable&lt;V&gt;&gt;</code></p>
</li>
<li>
<p><code>Object[]</code></p>
</li>
<li>
<p><code>byte[]</code></p>
</li>
<li>
<p><code>char[]</code></p>
</li>
<li>
<p><code>short[]</code></p>
</li>
<li>
<p><code>int[]</code></p>
</li>
<li>
<p><code>long[]</code></p>
</li>
<li>
<p><code>float[]</code></p>
</li>
<li>
<p><code>double[]</code></p>
</li>
<li>
<p><code>boolean[]</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once you have this single Iterator <code>Stream</code>, you can then perform different operations
to create a new filtered, transformed, limited or conjoined <code>Stream</code></p>
</div>
</div>
<div class="sect2">
<h3 id="filters">Filters</h3>

</div>
<div class="sect2">
<h3 id="mappings">Mappings</h3>

</div>
<div class="sect2">
<h3 id="inspectors">Inspectors</h3>

</div>
<div class="sect2">
<h3 id="crossing-the-streams">Crossing the Streams</h3>

</div>
</div>
</div></p>

	<hr>

		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">&copy; 2013 | Mixed with <a href="http://twitter.github.com/bootstrap/">Bootstrap v2.3.1</a> | Baked with <a href="http://jbake.org">JBake v2.2.1</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/groovy-stream/js/jquery-1.9.1.min.js"></script>
    <script src="/groovy-stream/js/bootstrap.min.js"></script>
    <script src="/groovy-stream/js/run_prettify.js"></script>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-32866444-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    
  </body>
</html>